<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:vm="using:JungholmInstruments.ViewModels"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        mc:Ignorable="d" d:DesignWidth="400" d:DesignHeight="500"
        x:Class="JungholmInstruments.Views.LoginView"
        x:DataType="vm:LoginViewModel"
        Title="Jungholm Instruments - Login"
        Width="400"
        Height="500"
        WindowStartupLocation="CenterScreen"
        CanResize="False"
        Icon="/Assets/jungholm-logo.ico">

    <Design.DataContext>
        <vm:LoginViewModel/>
    </Design.DataContext>

    <Grid RowDefinitions="Auto,*,Auto" Margin="30">
        <!-- Header -->
        <TextBlock Grid.Row="0" 
                   Text="Jungholm Instruments" 
                   FontSize="24" 
                   FontWeight="Bold"
                   HorizontalAlignment="Center"
                   Margin="0,0,0,30"/>

        <!-- Login Form -->
        <StackPanel Grid.Row="1" Spacing="15">
            <TextBlock Text="Sign In" FontSize="18" FontWeight="SemiBold" Margin="0,0,0,10"/>
            
            <!-- Email -->
            <TextBlock Text="Email" FontWeight="SemiBold"/>
            <TextBox Text="{Binding Email}" 
                     Watermark="Enter your email"
                     IsEnabled="{Binding !IsLoading}"/>

            <!-- Password -->
            <TextBlock Text="Password" FontWeight="SemiBold" Margin="0,10,0,0"/>
            <TextBox Text="{Binding Password}" 
                     PasswordChar="*"
                     Watermark="Enter your password"
                     IsEnabled="{Binding !IsLoading}"/>

            <!-- Error Message -->
            <TextBlock Text="{Binding ErrorMessage}" 
                       Foreground="Red"
                       TextWrapping="Wrap"
                       IsVisible="{Binding ErrorMessage, Converter={x:Static ObjectConverters.IsNotNull}}"
                       Margin="0,5,0,0"/>

            <!-- Login Button -->
            <Button Content="Sign In" 
                    Command="{Binding LoginCommand}"
                    IsEnabled="{Binding !IsLoading}"
                    HorizontalAlignment="Stretch"
                    Margin="0,20,0,0"
                    Padding="15,10"/>
        </StackPanel>

        <!-- Loading Indicator -->
        <Border Grid.Row="1" 
                Background="#80000000" 
                IsVisible="{Binding IsLoading}"
                ZIndex="100">
            <StackPanel HorizontalAlignment="Center" VerticalAlignment="Center" Spacing="10">
                <TextBlock Text="Signing in..." 
                           Foreground="White" 
                           FontSize="16"
                           HorizontalAlignment="Center"/>
            </StackPanel>
        </Border>

        <!-- Footer -->
        <TextBlock Grid.Row="2" 
                   Text="Gateway for Laboratory Instruments" 
                   FontSize="12" 
                   Foreground="Gray"
                   HorizontalAlignment="Center"
                   Margin="0,20,0,0"/>
    </Grid>
</Window>

